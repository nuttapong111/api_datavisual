# ЁЯУК API Looker Dashboard

р╕гр╕░р╕Ър╕Ъ API service р╕кр╕│р╕лр╕гр╕▒р╕Ър╕зр╕┤р╣Ар╕Др╕гр╕▓р╕░р╕лр╣Мр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ыр╕гр╕░р╣Ар╕Чр╕ир╣Бр╕ер╕░р╕кр╕гр╣Йр╕▓р╕З dashboard р╣Гр╕Щ Looker Studio

## ЁЯЪА р╕Др╕╕р╕Ур╕кр╕бр╕Ър╕▒р╕Хр╕┤

- **р╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╣Др╕Яр╕ер╣М Excel**: р╕гр╕нр╕Зр╕гр╕▒р╕Ър╣Др╕Яр╕ер╣М .xlsx, .xls, .csv
- **Data Cleansing**: р╣Бр╕Чр╕Щр╕Чр╕╡р╣Ир╕Др╣Ир╕▓ N/A р╕Фр╣Йр╕зр╕вр╕Др╣Ир╕▓р╣Ар╕Йр╕ер╕╡р╣Ир╕в, р╕ер╕Ър╣Бр╕Цр╕зр╕Чр╕╡р╣Ир╣Др╕бр╣Ир╕бр╕╡р╕Вр╣Йр╕нр╕бр╕╣р╕е
- **р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕кр╕гр╕╕р╕Ы**: min, max, average р╕Вр╕нр╕Зр╣Бр╕Хр╣Ир╕ер╕░р╕Ыр╕╡
- **20 р╕Ыр╕гр╕░р╣Ар╕Чр╕ир╕Чр╕╡р╣Ир╕бр╕╡р╕Др╣Ир╕▓р╕бр╕▓р╕Бр╕кр╕╕р╕Ф/р╕Хр╣Ир╕│р╕кр╕╕р╕Ф**: р╣Бр╕кр╕Фр╕Зр╕Хр╕▓р╕бр╕Ыр╕╡р╕Чр╕╡р╣Ир╣Ар╕ер╕╖р╕нр╕Б
- **р╕Ир╕│р╕Щр╕зр╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф**: р╕кр╕Цр╕┤р╕Хр╕┤р╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Гр╕Щр╕гр╕░р╕Ър╕Ъ
- **API р╕кр╕│р╕лр╕гр╕▒р╕Ъ Looker Studio**: endpoints р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕н dashboard

## ЁЯЫая╕П р╣Ар╕Чр╕Др╣Вр╕Щр╣Вр╕ер╕вр╕╡р╕Чр╕╡р╣Ир╣Гр╕Кр╣Й

### Backend
- **Node.js** + **Express.js**
- **SQLite** + **Sequelize ORM**
- **Multer** р╕кр╕│р╕лр╕гр╕▒р╕Ър╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╣Др╕Яр╕ер╣М
- **XLSX** р╕кр╕│р╕лр╕гр╕▒р╕Ър╕нр╣Ир╕▓р╕Щр╣Др╕Яр╕ер╣М Excel

### Frontend
- **React.js** + **TypeScript**
- **Recharts** р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕гр╕▓р╕Я
- **React Dropzone** р╕кр╕│р╕лр╕гр╕▒р╕Ър╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╣Др╕Яр╕ер╣М
- **Axios** р╕кр╕│р╕лр╕гр╕▒р╕Ъ API calls

## ЁЯУБ р╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╣Вр╕Ыр╕гр╣Ар╕Ир╕Д

```
api_looker/
тФЬтФАтФА server/                 # Backend API
тФВ   тФЬтФАтФА config/            # Database configuration
тФВ   тФЬтФАтФА models/            # Database models
тФВ   тФЬтФАтФА routes/            # API routes
тФВ   тФЬтФАтФА services/          # Business logic
тФВ   тФФтФАтФА index.js           # Server entry point
тФЬтФАтФА client/                # React frontend
тФВ   тФЬтФАтФА src/
тФВ   тФВ   тФЬтФАтФА components/    # React components
тФВ   тФВ   тФЬтФАтФА services/      # API services
тФВ   тФВ   тФФтФАтФА App.tsx        # Main app component
тФВ   тФФтФАтФА public/
тФЬтФАтФА data/                  # SQLite database
тФФтФАтФА uploads/               # Temporary file uploads
```

## ЁЯЪА р╕Бр╕▓р╕гр╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕Зр╣Бр╕ер╕░р╕гр╕▒р╕Щ

### 1. р╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕З Dependencies

```bash
# р╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕З backend dependencies
npm install

# р╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕З frontend dependencies
cd client
npm install
cd ..
```

### 2. р╕гр╕▒р╕Щр╣Бр╕нр╕Ыр╕Юр╕ер╕┤р╣Ар╕Др╕Кр╕▒р╕Щ

```bash
# р╕гр╕▒р╕Щр╕Чр╕▒р╣Йр╕З backend р╣Бр╕ер╕░ frontend
npm run dev

# р╕лр╕гр╕╖р╕нр╕гр╕▒р╕Щр╣Бр╕вр╕Бр╕Бр╕▒р╕Щ
npm run server    # Backend only
npm run client    # Frontend only
```

### 3. р╣Ар╕Вр╣Йр╕▓р╕Цр╕╢р╕Зр╣Бр╕нр╕Ыр╕Юр╕ер╕┤р╣Ар╕Др╕Кр╕▒р╕Щ

- **Web Interface**: http://localhost:3000
- **API Endpoints**: http://localhost:5000/api

## ЁЯУб API Endpoints

### р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕кр╕гр╕╕р╕Ы
- `GET /api/data/summary` - р╕Вр╣Йр╕нр╕бр╕╣р╕е min, max, average р╕Вр╕нр╕Зр╣Бр╕Хр╣Ир╕ер╕░р╕Ыр╕╡
- `GET /api/data/total-count` - р╕Ир╕│р╕Щр╕зр╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф

### р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ыр╕гр╕░р╣Ар╕Чр╕и
- `GET /api/data/top-countries?year=2012&limit=20` - 20 р╕Ыр╕гр╕░р╣Ар╕Чр╕ир╕Чр╕╡р╣Ир╕бр╕╡р╕Др╣Ир╕▓р╕бр╕▓р╕Бр╕кр╕╕р╕Ф
- `GET /api/data/bottom-countries?year=2012&limit=20` - 20 р╕Ыр╕гр╕░р╣Ар╕Чр╕ир╕Чр╕╡р╣Ир╕бр╕╡р╕Др╣Ир╕▓р╕Хр╣Ир╕│р╕кр╕╕р╕Ф
- `GET /api/data/countries` - р╕гр╕▓р╕вр╕Кр╕╖р╣Ир╕нр╕Ыр╕гр╕░р╣Ар╕Чр╕ир╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф
- `GET /api/data/all?page=1&limit=1000` - р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф (р╕кр╕│р╕лр╕гр╕▒р╕Ъ Looker Studio)

### р╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╣Др╕Яр╕ер╣М
- `POST /api/upload/excel` - р╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╣Др╕Яр╕ер╣М Excel
- `GET /api/upload/status` - р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕кр╕Цр╕▓р╕Щр╕░р╕Вр╣Йр╕нр╕бр╕╣р╕е
- `DELETE /api/upload/clear` - р╕ер╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф

## ЁЯУК р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╣Гр╕Щр╣Др╕Яр╕ер╣М Excel

### р╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╣Др╕Яр╕ер╣М
- **р╕Др╕нр╕ер╕▒р╕бр╕Щр╣Мр╣Бр╕гр╕Б**: р╕Кр╕╖р╣Ир╕нр╕Ыр╕гр╕░р╣Ар╕Чр╕и (Country)
- **р╕Др╕нр╕ер╕▒р╕бр╕Щр╣Мр╕Цр╕▒р╕Фр╣Др╕Ы**: р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ыр╕╡ 2000-2012
- **р╕гр╕нр╕Зр╕гр╕▒р╕Ъ**: р╕Др╣Ир╕▓ N/A, р╣Ар╕Лр╕ер╕ер╣Мр╕зр╣Ир╕▓р╕З (р╕гр╕░р╕Ър╕Ър╕Ир╕░р╣Бр╕Чр╕Щр╕Чр╕╡р╣Ир╕Фр╣Йр╕зр╕вр╕Др╣Ир╕▓р╣Ар╕Йр╕ер╕╡р╣Ир╕в)

### р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕е
```
Country    | 2000 | 2001 | 2002 | ... | 2012
-----------|------|------|------|-----|-----
Afghanistan| 8.6  | 14.73| 32.54| ... | 45.2
Albania    | 12.3 | 15.8 | 18.9 | ... | 22.1
```

## ЁЯФз Data Cleansing

р╕гр╕░р╕Ър╕Ър╕Ир╕░р╕Чр╕│р╕Бр╕▓р╕гр╕Чр╕│р╕Др╕зр╕▓р╕бр╕кр╕░р╕нр╕▓р╕Фр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤:

1. **р╣Бр╕Чр╕Щр╕Чр╕╡р╣Ир╕Др╣Ир╕▓ N/A**: р╣Гр╕Кр╣Йр╕Др╣Ир╕▓р╣Ар╕Йр╕ер╕╡р╣Ир╕вр╕Вр╕нр╕Зр╕Ыр╕╡р╕Щр╕▒р╣Йр╕Щ
2. **р╕ер╕Ър╣Бр╕Цр╕зр╕зр╣Ир╕▓р╕З**: р╣Бр╕Цр╕зр╕Чр╕╡р╣Ир╣Др╕бр╣Ир╕бр╕╡р╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Ар╕ер╕вр╕Ир╕░р╕Цр╕╣р╕Бр╕ер╕Ъ
3. **р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Др╕зр╕▓р╕бр╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З**: р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╣Др╕Яр╕ер╣М
4. **р╣Бр╕Ыр╕ер╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕е**: р╣Бр╕Ыр╕ер╕Зр╣Ар╕Ыр╣Зр╕Щр╕гр╕╣р╕Ыр╣Бр╕Ър╕Ър╕Чр╕╡р╣Ир╣Ар╕лр╕бр╕▓р╕░р╕кр╕бр╕кр╕│р╕лр╕гр╕▒р╕Ър╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е

## ЁЯУИ р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕Бр╕▒р╕Ъ Looker Studio

### 1. р╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕н Data Source
- р╣Гр╕Кр╣Й URL: `http://your-domain.com/api/data/all`
- Method: GET
- Response Format: JSON

### 2. р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Чр╕╡р╣Ир╣Др╕Фр╣Йр╕гр╕▒р╕Ъ
```json
{
  "success": true,
  "data": [
    {
      "id": 1,
      "country": "Afghanistan",
      "year_2000": 8.6,
      "year_2001": 14.73,
      "year_2012": 45.2
    }
  ],
  "pagination": {
    "page": 1,
    "limit": 1000,
    "total": 150,
    "pages": 1
  }
}
```

### 3. р╕кр╕гр╣Йр╕▓р╕З Dashboard
- р╣Гр╕Кр╣Йр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ир╕▓р╕Б API endpoints р╕Хр╣Ир╕▓р╕Зр╣Ж
- р╕кр╕гр╣Йр╕▓р╕Зр╕Бр╕гр╕▓р╕Яр╣Бр╕ер╕░р╕Хр╕▓р╕гр╕▓р╕Зр╕Хр╕▓р╕бр╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕г
- р╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Бр╕Ър╕Ъ real-time

## ЁЯЫбя╕П Security Features

- **CORS** enabled р╕кр╕│р╕лр╕гр╕▒р╕Ъ cross-origin requests
- **Helmet** р╕кр╕│р╕лр╕гр╕▒р╕Ъ security headers
- **File validation** р╕кр╕│р╕лр╕гр╕▒р╕Ър╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╣Др╕Яр╕ер╣М
- **Error handling** р╕Чр╕╡р╣Ир╕Др╕гр╕нр╕Ър╕Др╕ер╕╕р╕б

## ЁЯУЭ р╕Бр╕▓р╕гр╕Юр╕▒р╕Тр╕Щр╕▓р╕Хр╣Ир╕н

### р╣Ар╕Юр╕┤р╣Ир╕бр╕Яр╕╡р╣Ар╕Ир╕нр╕гр╣Мр╣Гр╕лр╕бр╣И
1. р╣Ар╕Юр╕┤р╣Ир╕б API endpoint р╣Гр╕Щ `server/routes/`
2. р╣Ар╕Юр╕┤р╣Ир╕б business logic р╣Гр╕Щ `server/services/`
3. р╣Ар╕Юр╕┤р╣Ир╕б React component р╣Гр╕Щ `client/src/components/`

### р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е
1. р╣Бр╕Бр╣Йр╣Др╕В configuration р╣Гр╕Щ `server/config/database.js`
2. р╕нр╕▒р╕Ыр╣Ар╕Фр╕Х models р╣Гр╕Щ `server/models/`
3. р╕гр╕▒р╕Щ migration: `sequelize db:migrate`

## ЁЯРЫ р╕Бр╕▓р╕гр╣Бр╕Бр╣Йр╣Др╕Вр╕Ыр╕▒р╕Нр╕лр╕▓

### р╕Ыр╕▒р╕Нр╕лр╕▓р╕Чр╕╡р╣Ир╕Юр╕Ър╕Ър╣Ир╕нр╕в

1. **р╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╣Др╕Яр╕ер╣М**
   - р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Вр╕Щр╕▓р╕Фр╣Др╕Яр╕ер╣М (р╣Др╕бр╣Ир╣Ар╕Бр╕┤р╕Щ 10MB)
   - р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Ыр╕гр╕░р╣Ар╕ар╕Чр╣Др╕Яр╕ер╣М (.xlsx, .xls, .csv)

2. **API р╣Др╕бр╣Ир╕Хр╕нр╕Ър╕кр╕Щр╕нр╕З**
   - р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓ server р╕гр╕▒р╕Щр╕нр╕вр╕╣р╣Ир╕Чр╕╡р╣И port 5000
   - р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ CORS settings

3. **р╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Др╕бр╣Ир╣Бр╕кр╕Фр╕З**
   - р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Бр╕▓р╕гр╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕нр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е
   - р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ console logs

## ЁЯУЮ р╕Бр╕▓р╕гр╕кр╕Щр╕▒р╕Ър╕кр╕Щр╕╕р╕Щ

р╕лр╕▓р╕Бр╕бр╕╡р╕Ыр╕▒р╕Нр╕лр╕▓р╕лр╕гр╕╖р╕нр╕Вр╣Йр╕нр╕кр╕Зр╕кр╕▒р╕в р╕Бр╕гр╕╕р╕Ур╕▓р╕Хр╕┤р╕Фр╕Хр╣Ир╕нр╕Чр╕╡р╕бр╕Юр╕▒р╕Тр╕Щр╕▓

---

**р╕кр╕гр╣Йр╕▓р╕Зр╕Фр╣Йр╕зр╕в тЭдя╕П р╣Вр╕Фр╕вр╕Чр╕╡р╕бр╕Юр╕▒р╕Тр╕Щр╕▓**

